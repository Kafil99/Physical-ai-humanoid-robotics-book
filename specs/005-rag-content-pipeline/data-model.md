# Data Model: RAG Content Pipeline

This document defines the primary data entity for the content ingestion pipeline, as referenced in the `plan.md`.

## Entity: `ContentChunk`

This entity represents a single chunk of processed text from the source documentation, ready to be stored in the vector database.

### Fields

| Field Name     | Data Type             | Description                                                                                             | Example                                             |
|----------------|-----------------------|---------------------------------------------------------------------------------------------------------|-----------------------------------------------------|
| `id`           | `UUID` (string)       | A unique identifier for the chunk, generated at ingestion time. This will be the primary key in Qdrant. | `"a1b2c3d4-e5f6-7890-1234-567890abcdef"`              |
| `source_url`   | `string`              | The canonical URL from which the content was extracted.                                                 | `"https://.../docs/module1/introduction-to-ros2"`   |
| `page_title`   | `string`              | The title of the source page, extracted from the HTML `<title>` tag.                                    | `"Introduction to ROS2"`                            |
| `text`         | `string`              | The raw text content of the chunk itself.                                                               | `"ROS 2 is an open-source robotics framework..."`   |
| `embedding`    | `vector[1024]`        | The dense vector embedding of the `text`, generated by the Cohere model (`embed-english-v3.0`).         | `[0.123, -0.456, ...]`                              |

### Relationships

- Each `ContentChunk` is independent. There are no direct relationships between chunks enforced at the database level, although they share a common origin through the `source_url`.

### State Transitions

- The lifecycle of a `ContentChunk` is simple: it is `created` during the ingestion script and `deleted` when the entire Qdrant collection is wiped on a subsequent run. There are no intermediate states.

### Uniqueness

- The `id` field (a UUID) is the sole guarantee of uniqueness for each document stored in the Qdrant collection.
